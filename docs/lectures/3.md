# Lecture 3

## Useful Information

### General Branch Model

- A general network branch can be represented by a voltage source ($E_B$) and an impedance ($Z_B$) in series, which are in parallel with a current source ($I_B$).

- The total current flowing in the branch is $J_B$.

- The total voltage across the branch is $V_B$.

### Branch Equilibrium Equations

There are two primary ways to relate the branch voltage ($V_B$) and branch current ($J_B$):

1. **Impedance Form (Voltage-Current Relation):**

&nbsp; \* $V_B = (J_B + I_B)Z_B - E_B$

&nbsp; \* In matrix form for a whole network:

&nbsp; $V_B = Z_B(J_B + I_B) - E_B$

&nbsp; \* Where $V_B$, $J_B$, $I_B$, and $E_B$ are $B \times 1$ vectors (B = number of branches).

&nbsp; \* $Z_B$ is the $B \times B$ diagonal branch impedance matrix.

2. **Admittance Form (Current-Voltage Relation):**

&nbsp; \* $J_B = Y_B(V_B + E_B) - I_B$

&nbsp; \* In matrix form for a whole network:

&nbsp; $J_B = Y_B V_B + Y_B E_B - I_B$

&nbsp; \* $Y_B$ is the $B \times B$ diagonal branch admittance matrix.

### Reduced incidence matrix

- Any node of a connected graph can be selected as a reference node.

- Then the voltages of the other nodes (referred to as buses) can be measured with respect to the assigned reference.

$$
A = \begin{bmatrix}
-1 & 1 & 0 & -1 & 0 & 0 \\
0 & -1 & 1 & 0 & 1 & 0 \\
1 & 0 & -1 & 0 & 0 & 1 \\
0 & 0 & 0 & 1 & -1 & -1
\end{bmatrix}
$$

Reduced Matrix (with reference node 4 removed):

$$
A = \begin{bmatrix}
-1 & 1 & 0 & -1 & 0 & 0 \\
0 & -1 & 1 & 0 & 1 & 0 \\
1 & 0 & -1 & 0 & 0 & 1
\end{bmatrix}
$$

### Apply Electrical Laws

#### From incidence matrix (A) we can apply KCL.

$$ A \* J_B = 0 $$

$$
\begin{bmatrix}
-1 & 1 & 0 & -1 & 0 & 0 \\
0 & -1 & 1 & 0 & 1 & 0 \\
1 & 0 & -1 & 0 & 0 & 1
\end{bmatrix}
*
\begin{bmatrix}
j_a \\ j_b \\ j_c \\ j_d \\ j_e \\ j_f
\end{bmatrix}
= 0
$$

Equations:

$$ -j_a + j_b - j_d = 0 $$
$$ -j_b + j_c + j_e = 0 $$
$$ j_a - j_c - j_f = 0 $$

#### From tie set matrix (B) we can apply KVL.

$$ B \* V_B = 0 $$

$$
\begin{bmatrix}
-1 & 0 & -1 & 1 & 0 & 0 \\
1 & 1 & 0 & 0 & 1 & 0 \\
0 & -1 & 1 & 0 & 0 & 1
\end{bmatrix}
*
\begin{bmatrix}
v_d \\ v_e \\ v_f \\ v_a \\ v_b \\ v_c
\end{bmatrix}
= 0
$$

Equations:

$$ -v_d - v_f + v_a = 0 $$
$$ v_d + v_e + v_b = 0 $$
$$ -v_e + v_f + v_c = 0 $$

---

## Network Equilibrium Equations (Loop Analysis)

This method solves for the unknown loop currents ($I_L$).

**Loop equations:** A branch of a network can, in general, be represented as shown in the figure, where:

- $E_B$ is the voltage source of the branch.
- $I_B$ is the current source of the branch.
- $Z_B$ is the impedance of the branch.
- $J_B$ is the current in the branch.

The voltage-current relation is then given by:
$$ V_B = (J_B + I_B)Z_B - E_B $$

For a general network with many branches, the matrix equation is:
$$ V_B = Z_B(J_B + I_B) - E_B \quad (1) $$
Where $V_B, J_B, I_B,$ and $E_B$ are $B \times 1$ vectors and $Z_B$ is the branch impedance matrix of $B \times B$.

Each row of the tie-set matrix corresponds to a loop and involves all the branches of the loop. As per KVL, the sum of the corresponding branch voltages may be equated to zero. That is:
$$ B V_B = 0 \quad (2) $$
where $B$ is the tie-set matrix.

In the same matrix, each column represents a branch current in terms of loop currents. Transposed $B$ is used to give the relation between branch currents and loop currents:
$$ J_B = B^T I_L \quad (3) $$
This equation is called loop transformation equation.

Substituting equation (1) in (2), we get:
$$ B Z_B \{J_B + I_B\} - B E_B = 0 \quad (4) $$

Substituting equation (3) in (4), we get:
$$ B Z_B B^T I_L + B Z_B I_B - B E_B = 0 $$

$$ B Z_B B^T I_L = B E_B - B Z_B I_B $$

---

## Network Equilibrium Equations (Cut-Set Analysis)

Get $V_B$ branch voltage and $J_B$ branch current using cut-set matrix

Each row of the cut-set matrix corresponds to a particular node pair voltage and indicates different branches connected to a particular node.
KCL can be applied to the node and the algebraic sum of the branch currents at that node is zero.

$$ C J_B = 0 \quad (5) $$

Each column of cut-set matrix relates a branch voltage to node pair voltages. Hence,

$$ V_B = C^T E_N \quad (6) $$

Current voltage relation for a branch is.

$$ J_B = Y_B (V_B + E_B) - I_B $$

For a network with many branches the above equation may be written in matrix form as,

$$ J_B = Y_B V_B + Y_B E_B - I_B \quad (7) $$

where $Y_B$ is branch admittance matrix of $B \times B$.

Substituting equation (7) in (5)

We get

$$ C Y_B V_B + C Y_B E_B - C I_B = 0 \quad (8) $$

Substituting equation (6) in (8)

$$ V_B = C^T E_N \Rightarrow V_B = C^T V_T \quad (6) $$

We get

$$ C Y_B C^T E_N = C (I_B - Y_B E_B) \Rightarrow C Y_B C^T V_T = C I_S - C Y_B V_S $$

---

## Example

For the network shown in Figure write a tie-set matrix and then find all the branch currents and voltages.

**Network Details:**

- Voltage Source: 10V
- Resistors:
  - 5 $\Omega$ (Series)
  - 5 $\Omega$ (Shunt)
  - 10 $\Omega$ (Series)
  - 5 $\Omega$ (Shunt)
